import{d as V,r as i,j as e,V as x,L as v,e as m,h as w,i as L,c as g,u as _,k as S,l as A,m as F,b as E,n as h,o as q,p as k,q as I}from"./index-R4FHraQG.js";const N=({loading:n,videoList:a,handelInView:r})=>{const{ref:c,inView:o}=V();return i.useEffect(()=>{r(o)},[r,o]),e.jsx("section",{children:e.jsxs(x,{children:[a.map(({id:s,viewCount:t,duration:p,publishedAt:l,...f},j,u)=>e.jsx("li",{ref:j===u.length-1?c:null,children:e.jsx(v,{to:`/watch/${s}`,children:e.jsx(m,{duration:w(p),...L({viewCount:t,publishedAt:l}),...f})})},s)),n&&[...new Array(8)].map((s,t)=>e.jsx("li",{children:e.jsx(g,{})},t))]})})},P=()=>{const n=_(S),a=_(A),r=_(F),[c,o]=i.useState(!1),{resetState:s}=q,t=E();i.useEffect(()=>(t(h()),()=>{t(s())}),[t,s]),i.useEffect(()=>{c&&a.length<100&&t(h()),o(!1)},[t,c]);const p=i.useCallback(l=>{o(l)},[]);return r?e.jsx("div",{children:"Не удается загрузить список понравившихся видео"}):a.length?e.jsx(N,{loading:n,videoList:a,handelInView:p}):e.jsx(x,{children:[...new Array(16)].map((l,f)=>e.jsx("li",{children:e.jsx(g,{})},f))})},y="_page_1faqf_1",C="_page__content_1faqf_8",D="_page__title_1faqf_15",b="_container_1faqf_19",d={page:y,page__content:C,page__title:D,container:b},$=()=>{const n=_(k);return e.jsx(i.Suspense,{children:n?e.jsx("div",{className:d.container,children:e.jsx(P,{})}):e.jsx("div",{className:d.page,children:e.jsxs("div",{className:d.page__content,children:[e.jsx("h2",{className:d.page__title,children:"Войдите в аккаунт"}),e.jsx("p",{children:"Тогда в этом разделе появятся видео, которые вам понравились."}),e.jsx(I,{})]})})})};export{$ as FavoritesPage};
