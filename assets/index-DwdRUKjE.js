import{d as V,r as i,j as e,s as m,V as g,L as v,e as w,h as L,i as S,c as j,u as d,k as A,l as F,m as E,b as k,n as x,o as y,p as I,q as N}from"./index-BCM9aTU6.js";const P=({loading:a,videoList:n,handelInView:r})=>{const{ref:c,inView:o}=V();return i.useEffect(()=>{r(o)},[r,o]),e.jsx("section",{className:m.clips,children:e.jsxs(g,{children:[n.map(({id:t,viewCount:s,duration:p,publishedAt:l,..._},u,f)=>e.jsx("li",{ref:u===f.length-1?c:null,children:e.jsx(v,{to:`/watch/${t}`,children:e.jsx(w,{duration:L(p),...S({viewCount:s,publishedAt:l}),..._})})},t)),a&&[...new Array(8)].map((t,s)=>e.jsx("li",{children:e.jsx(j,{})},s))]})})},C=()=>{const a=d(A),n=d(F),r=d(E),[c,o]=i.useState(!1),{resetState:t}=y,s=k();i.useEffect(()=>(s(x()),()=>{s(t())}),[s,t]),i.useEffect(()=>{c&&n.length<100&&s(x()),o(!1)},[s,c]);const p=i.useCallback(l=>{o(l)},[]);return r?e.jsx("div",{children:"Не удается загрузить список понравившихся видео"}):n.length?e.jsx(P,{loading:a,videoList:n,handelInView:p}):e.jsx(g,{children:[...new Array(16)].map((l,_)=>e.jsx("li",{children:e.jsx(j,{})},_))})},D="_page_o8mtw_1",b="_page__content_o8mtw_8",$="_page__title_o8mtw_15",h={page:D,page__content:b,page__title:$},R=()=>{const a=d(I);return e.jsx(i.Suspense,{children:a?e.jsx("div",{children:e.jsx(C,{})}):e.jsx("div",{className:h.page,children:e.jsxs("div",{className:h.page__content,children:[e.jsx("h2",{className:h.page__title,children:"Войдите в аккаунт"}),e.jsx("p",{children:"Тогда в этом разделе появятся видео, которые вам понравились."}),e.jsx(N,{})]})})})};export{R as FavoritesPage};
