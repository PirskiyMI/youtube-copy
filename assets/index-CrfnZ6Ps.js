import{j as s,c,d as N,i as n,e as f,g as i,A as g,u as k,b as S,r as y,h as V,k as o,L as w,l as A}from"./index-NkGzaZM3.js";const h=()=>s.jsxs("div",{className:c.skeleton,children:[s.jsx("div",{className:c.skeleton__image}),s.jsxs("div",{className:c.skeleton__text,children:[s.jsx("div",{className:c.skeleton__item}),s.jsx("div",{className:c.skeleton__item}),s.jsx("div",{className:c.skeleton__item})]})]}),P=({id:a,snippet:{channelTitle:l,title:t,publishedAt:e,description:r,thumbnails:{high:m}}})=>{const{data:x,isFetching:_}=N({id:n(a)?a:a.videoId,isFetching:!0,publishedAt:e}),d=f({details:x});if(_)return s.jsx(h,{});if(!d)return s.jsx(s.Fragment,{});const{formattedDuration:j,formattedPublishedAt:p,formattedViewCount:u,viewNoun:v}=d;return s.jsxs("article",{className:i.clip,children:[s.jsxs("div",{className:i.clip__image,children:[s.jsx("img",{src:m.url,alt:"Превью",className:i.clip__preview}),s.jsx("span",{className:i.clip__duration,children:j})]}),s.jsxs("div",{className:i.clip__description,children:[s.jsx("h3",{className:i.clip__title,title:t,children:t}),s.jsx("div",{className:i.clip__text,children:s.jsxs("p",{className:i.clip__metrics,children:[s.jsxs("span",{children:[u," ",v]}),s.jsx("span",{className:i.clip__date,children:p})]})}),s.jsxs("div",{className:i.clip__channel,children:[s.jsx(g,{}),s.jsx("span",{children:l})]}),s.jsx("div",{className:i.clip__text,children:r})]})]})},D=({searchValue:a})=>{const l=k(e=>e.videoBySearch.videoList),t=S();return y.useEffect(()=>{t(V(a))},[a,t]),l.length?s.jsx("ul",{className:o.list,children:l.map(e=>s.jsx("li",{children:s.jsx(w,{to:`/watch/${n(e.id)?e.id:e.id.videoId}`,children:s.jsx(P,{...e})})},n(e.id)?e.id:e.id.videoId))}):s.jsx("ul",{className:o.list,children:[...new Array(4)].map((e,r)=>s.jsx("li",{children:s.jsx(h,{})},r))})},F="_search_1oot0_1",I={search:F},$=()=>{const{searchValue:a}=A();return s.jsx("div",{className:I.search,children:s.jsx(D,{searchValue:a})})};export{$ as SearchPage};
