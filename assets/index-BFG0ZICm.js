import{r,b as u,t as _,u as g,v as x,w as L,j as e,x as n,y as a}from"./index-NkGzaZM3.js";import{z as E}from"./index-NkGzaZM3.js";import{u as j,P as C}from"./index-CnOQAGaK.js";const w=t=>t.videoRating.rating,h=t=>r.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M8 10V20M8 10L4 9.99998V20L8 20M8 10L13.1956 3.93847C13.6886 3.3633 14.4642 3.11604 15.1992 3.29977L15.2467 3.31166C16.5885 3.64711 17.1929 5.21057 16.4258 6.36135L14 9.99998H18.5604C19.8225 9.99998 20.7691 11.1546 20.5216 12.3922L19.3216 18.3922C19.1346 19.3271 18.3138 20 17.3604 20L8 20",stroke:"#000000",strokeWidth:.6,strokeLinecap:"round",strokeLinejoin:"round"})),m=t=>r.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"transparent",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M8 14V4M8 14L4 14V4.00002L8 4M8 14L13.1956 20.0615C13.6886 20.6367 14.4642 20.884 15.1992 20.7002L15.2467 20.6883C16.5885 20.3529 17.1929 18.7894 16.4258 17.6387L14 14H18.5604C19.8225 14 20.7691 12.8454 20.5216 11.6078L19.3216 5.60779C19.1346 4.67294 18.3138 4.00002 17.3604 4.00002L8 4",stroke:"#000000",strokeWidth:.6,strokeLinecap:"round",strokeLinejoin:"round"})),p=({videoId:t,rate:o})=>{const s=u();return()=>{s(_({videoId:t,rate:o}))}},N=({videoId:t,likeCount:o})=>{const s=g(w),i=p({videoId:t,rate:"like"}),l=p({videoId:t,rate:"dislike"}),c=p({videoId:t,rate:"none"}),d=u(),k=x(o);return r.useEffect(()=>{d(L(t))},[t,d]),e.jsxs("div",{className:n.rate,children:[e.jsxs("button",{className:n.rate__button,onClick:s!=="like"?i:c,children:[e.jsx(h,{className:n.rate__icon+(s==="like"?` ${n.rate__icon_active}`:"")}),e.jsx("span",{children:k})]}),e.jsx("button",{className:n.rate__button,onClick:s!=="dislike"?l:c,children:e.jsx(m,{className:n.rate__icon+(s==="dislike"?` ${n.rate__icon_active}`:"")})})]})},V=({likeCount:t,authButton:o})=>{const{isOpen:s,handleOpen:i,handleClose:l}=j(),c=x(t);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:a.rate,children:[e.jsxs("button",{className:a.rate__button,onClick:i,children:[e.jsx(h,{className:a.rate__icon}),e.jsx("span",{children:c})]}),e.jsx("button",{className:a.rate__button,onClick:i,children:e.jsx(m,{className:a.rate__icon})})]}),e.jsx("div",{className:a.popup,children:s&&e.jsx(C,{title:"Понравилось видео?",text:"Войдите в аккаунт, чтобы поставить отметку.",closePopup:l,button:o,className:a.popup__wrapper})})]})};export{N as RateVideo,V as RateVideoPopup,L as fetchVideoRating,w as getVideoRatingSelector,E as videoRatingReducer};
